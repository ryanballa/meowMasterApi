import rg from 'regexparam';
import { parse } from 'url';

const rgExec = (path, result) => {
    let i = 0;
    const out = {};
    const matches = result.pattern.exec(path);
    while (i < result.keys.length) {
        out[result.keys[i]] = (matches === null || matches === void 0 ? void 0 : matches[++i]) || null;
    }
    return out;
};
const getURLParams = (reqUrl = '/', url = '/') => rgExec(reqUrl, rg(url));
const getQueryParams = (url = '/') => parse(url, true).query;
const matchParams = (path = '/', reqUrl = '/') => rg(path).pattern.test(reqUrl);

export { getQueryParams, getURLParams, matchParams, rgExec };
